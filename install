drop database wikidb;
create database wikidb;
grant drop,index, create, select, insert, update, delete, alter, lock tables on wikidb.* to 'wikiuser'@'localhost' identified by 'qazwsx';
grant super on *.* to  'wikiuser'@'localhost';
SHOW CREATE TABLE text;

/etc/sysconfig/iptables
-A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT

linux root pass
linux wiki pass
mysql root pass
mysql wikiuser pass
wiki admin pass
ssmtp email

server:
yum install perl-XML-LibXML csstidy tidy perl-HTML-Tidy libreoffice-writer libreoffice-headless libreoffice-pyuno

yum install php mysql mysql-server openssh-clients php-pecl-apc php-intl php-mysql zip iotop lsof lynx mc php-gd svn wget ssmtp ImageMagick httpd

disable selinux:
echo 0 >/selinux/enforce
edit /etc/selinux/config

/etc/ssh/sshd_config:
#GSSAPIAuthentication no
GSSAPIAuthentication yes
to
GSSAPIAuthentication no
#GSSAPIAuthentication yes


svn checkout http://svn.wikimedia.org/svnroot/mediawiki/branches/wmf/1.17wmf1/ wiki
svn checkout http://svn.wikimedia.org/svnroot/mediawiki/trunk/extensions wiki_extensions_svn




http://www.howtoforge.com/mysql_database_replication
http://megam.info/2009/10/19/load-balancing-mysql-part-i/


sterge artivle feedback:

drop table article_feedback;
drop table article_feedback_pages;
drop table article_feedback_properties;
drop table article_feedback_ratings;
drop table article_feedback_revisions;
drop table article_feedback_stats;
drop table article_feedback_stats_types;



/var/www/html/wiki/extensions/ArticleFeedback/modules/ext.articleFeedback/ext.articleFeedback.css


.articleFeedback-ratings div[rel="trustworthy"],
.articleFeedback-ratings div[rel="wellwritten"],
.articleFeedback-helpimprove-note,
.articleFeedback-expertise-options .articleFeedback-helpimprove-email,
.articleFeedback-expertise-options label,
.articleFeedback-expertise-options input,
.articleFeedback-expertise-options,
.articleFeedback-expertise label,
.articleFeedback-expertise input,
.articleFeedback-expertise,
.articleFeedback-expertise-disabled,
.articleFeedback-helpimprove-disabled {
    display: none;
    }


MediaWiki:Sidebar

* Categorii
** Categorie:Autori sortati|Autori sortati dupa prenume, nume
** Categorie:Autori sortati alfabetic|Autori sortati dupa nume prenume
* Deschide o carte aleatoriu
** Random carti|Orice carte
** Random carti scurte|O carte scurta
** Random carti medii|O carte medie
** Random carti lungi|O carte lunga

Random carti
__HIDDENCAT__ Categorie:Carti_medii Categorie:Carti lungi Categorie:Carti scurte  Categorie:Evaluare
<DPL>
  category = Evaluare
  format   = ,\n* [[%PAGE%|%TITLE%]],,
  include=*
  randomcount=1
</DPL>



Ubuntu:
/etc/ufw/before.rule
# nat Table rules
*nat
:POSTROUTING ACCEPT [0:0]
:PREROUTING ACCEPT [0:0]
-A POSTROUTING -o ppp0 -j MASQUERADE
-A PREROUTING -p tcp --dport 80 -j DNAT --to 192.168.0.160:80
COMMIT
/etc/default/ufw
DEFAULT_FORWARD_POLICY="ACCEPT"


iptables -X
iptables -t nat -F
iptables -t nat -X
iptables -t mangle -F
iptables -t mangle -X
iptables -P INPUT ACCEPT
iptables -P FORWARD ACCEPT
iptables -P OUTPUT ACCEPT
iptables -t nat -A POSTROUTING -o ppp0 -j MASQUERADE
